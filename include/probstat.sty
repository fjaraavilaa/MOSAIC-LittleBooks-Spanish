
\ProvidesPackage{probstat}
\RequirePackage{amsmath}
\RequirePackage{ifthen}
\RequirePackage{amsmath}
\RequirePackage{bm}
\RequirePackage{xcolor}
\RequirePackage{fancyvrb}

\newboolean{longExp}
\setboolean{longExp}{false}
\DeclareOption{longExp}{\setboolean{longExp}{true}}
\DeclareOption{shortExp}{\setboolean{longExp}{false}}

\ProcessOptions*

\newcommand{\term}[1]{\textbf{#1}}
\newcommand{\code}[1]{{\tt #1}}
\newcommand{\file}[2][R]{{\tt #2}}
\newcommand{\command}[1]{\texttt{#1}}
%\newcommand{\R}{\mbox{\texttt{R}}}
\newcommand{\R}{\mbox{\sf{R}}}

\newlength{\cwidth}
\newcommand{\cents}{\settowidth{\cwidth}{c}%
\divide\cwidth by2
\advance\cwidth by-.1pt
c\kern-\cwidth
\vrule width .1pt depth.2ex height1.2ex
\kern\cwidth}

\def\myRuleColor{\color{blue!45!white}}
\colorlet{myRuleColor}{blue!45!white}
\def\includeR#1{%
\typeout{Including R output from #1}
\VerbatimInput[framerule=.5mm,
        frame=leftline,
        rulecolor=\myRuleColor,
        fontsize=\small]{#1}
}
\def\includeRtiny#1{%
\typeout{Including R output from #1}
\VerbatimInput[framerule=.5mm,
        frame=leftline,
        rulecolor=\myRuleColor,
        fontsize=\footnotesize]{#1}
}


\DefineVerbatimEnvironment%
{Rcode}{Verbatim}
{framerule=.5mm,frame=leftline,rulecolor=\myRuleColor,fontsize=\small}

\DefineVerbatimEnvironment%
{tinyRcode}{Verbatim}
{framerule=.5mm,frame=leftline,rulecolor=\myRuleColor,fontsize=\tiny}

\DefineVerbatimEnvironment%
{footRcode}{Verbatim}
{framerule=.5mm,frame=leftline,rulecolor=\myRuleColor,fontsize=\footnotesize}

\def\includeRaus#1{%

\hfill \makebox[0pt]{\fbox{\tiny #1}}
\vspace*{-3ex}

%\xmarginpar{\fbox{\tiny #1}}%
\includeR{Rout/#1.Raus}
%\hfill 
%\rule{1in}{.3pt}
%\rule{1in}{.3pt}
%\hfill
}
\def\includeRchunk#1{%

\hfill \makebox[0pt]{\fbox{\tiny #1}}
\vspace*{-3ex}

%\xmarginpar{\fbox{\tiny #1}}%
\includeR{Rchunk/#1.Rchunk}
%\hfill 
%\rule{1in}{.3pt}
%\rule{1in}{.3pt}
%\hfill
}

\def\includeRausTwo#1{%

\hfill \makebox[0pt]{\fbox{\tiny #1}}
\vspace*{-3ex}

\begin{multicols}{2}
\includeR{Rout/#1.Raus}
\end{multicols}
}


%% basic probability stuff
\newcommand{\E}{\operatorname{E}}
\newcommand{\Prob}{\operatorname{P}}
\def\evProb#1{\Prob(\mbox{#1})}
\newcommand{\Var}{\operatorname{Var}}
\newcommand{\coVar}{\operatorname{Cov}}
\newcommand{\Cov}{\operatorname{Cov}}
\newcommand{\covar}{\operatorname{Cov}}
\newcommand{\argmax}{\operatorname{argmax}}
\newcommand{\argmin}{\operatorname{argmin}}

\newcommand\simiid{\stackrel{\tiny \operatorname{iid}}{\sim}}

\newcommand{\distribution}[1]{{\textsf{#1}}}
\gdef\Bin{\distribution{Binom}}
\gdef\Binom{\distribution{Binom}}
\gdef\Multinom{\distribution{Multinom}}
\gdef\NBinom{\distribution{NBinom}}
\gdef\Geom{\distribution{Geom}}
\gdef\Norm{\distribution{Norm}}
\gdef\Hyper{\distribution{Hyper}}
\gdef\Unif{\distribution{Unif}}
\ifthenelse{\boolean{longExp}}{%
	\gdef\Exponential{\distribution{Exp}}%
	}{%
	\gdef\Exp{\distribution{Exp}}%
	}
\gdef\Poisson{\distribution{Pois}}
\gdef\Pois{\distribution{Pois}}
\gdef\Gam{\distribution{Gamma}}
\gdef\Gamm{\distribution{Gamma}}
\gdef\Beta{\distribution{Beta}}
\gdef\Weibull{\distribution{Weibull}}
\gdef\Chisq{\distribution{Chisq}}
\gdef\Tdist{\distribution{T}}
\gdef\Fdist{\distribution{F}}


\def\mean#1{\overline{#1}}

\def\Prob{\operatorname{P}}
\ifthenelse{\boolean{longExp}}{%
	\def\Exp{\operatorname{E}}
	}{%
	\def\E{\operatorname{E}}
	}
\def\Var{\operatorname{Var}}
\def\SD{\operatorname{SD}}


%% ANOVA abbreviations
\def\SE{SE}
\def\SSe{SSE}
\def\SSTot{SSTot}
\def\SSr{SSM}
\def\SSM{SSM}
\def\SSx{SS_x}
\def\SSy{SS_y}
\def\Sxy{S_{xy}}
\def\Sxx{S_{xx}}
\def\Syy{S_{yy}}



%% some colors
\colorlet{trCol}{green!50!black}
\colorlet{erCol}{red!70!black}
\colorlet{meanCol}{orange!90!black}
\colorlet{adjCol}{blue!80!black}
\colorlet{fitCol}{purple}

%% some vector stuff 

\newcommand{\rowvec}[1]{{\left[ #1 \right]}}
\newcommand{\transpose}[1]{{#1}^T}
\newcommand{\colvec}[1]{\transpose{\rowvec{#1}}} 
\def\vec#1{\bm{#1}}
\def\mat#1{\bm{#1}}
\newcommand{\vecarray}[2][black]{
\textcolor{#1}{
\left[
\begin{array}{r}
  #2
\end{array}
\right]
}
}

\newenvironment{brackmat}%
{%
\left[
\begin{matrix}
}{%
\end{matrix}
\right]
}

%\newcommand{\D}[2]{\frac{\partial}{\partial #2}#1} 




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% some hacks and kludges  
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\lhd{\mathrel{\vartriangleleft}}
\def\unlhd{\mathrel{\trianglelefteq}}
\def\Box{\mathrel{\square}}
\def\QED{\hfill\mbox{$\Box$}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% macros from schoening  
% with modifications   
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% relations

\def\wiggle{\sim}
\def\wiggles{\wiggle}
\def\approxwiggle{\stackrel{\cdot}{\wiggle}}

%% sets of numbers

\def\WholeNumbers{\mbox{$\mathbb W$}}
\def\WholeNums{\mbox{$\mathbb W$}}
\def\Naturals{\mbox{$\mathbb N$}}
\def\NatNums{\mbox{$\mathbb N$}}
\def\natNums{\mbox{$\mathbb N$}}
\def\natNumbers{\mbox{$\mathbb N$}}
\def\NatNumbers{\mbox{$\mathbb N$}}
\def\Reals{\mbox{$\mathbb R$}}
\def\reals{\mbox{$\mathbb R$}}
\def\Jset{\mbox{$\mathbb J$}}
\def\Integers{\mbox{$\mathbb Z$}}
\def\integers{\mbox{$\mathbb Z$}}
\def\rationals{\mbox{$\mathbb Q$}}
\def\Rationals{\mbox{$\mathbb Q$}}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% misc
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\dom#1{\mbox{dom}}

\def\seq#1#2{\{#1_{#2}\}_{#2=1}^{\infty}}
\def\seqg#1#2#3{\{#1\}_{#2=#3}^{\infty}}


\gdef\makemath#1{\ifmmode #1 \else $ #1 $\fi}
\def\ignore[1]{\relax}
\def\ds{\displaystyle}

\def\varp{\varphi}

%\def\options#1#2{ {\tt [ #1 ]/[ #2 ]} }
\def\abs#1{{\mid #1 \mid}}

% this interferes with the definition in amstheorem and ntheorem
%\def\qed{$\Box$}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 'function-like' defs
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\floor#1{\lfloor #1 \rfloor}
\def\ceiling#1{\lceil #1 \rceil}
\def\falling#1#2{#1^{\underline{#2}}}
\def\rising#1#2{#1^{\overline{#2}}}
\def\pair#1{\langle #1 \rangle }
\def\Pair#1{\left\langle #1 \right\rangle }
\def\tuple#1{{\langle {#1} \rangle}}
\def\length#1{\vert #1 \vert}
\def\boolval#1{\lbrack\!\lbrack #1 \rbrack\!\rbrack}
\def\set#1{\{#1\}}
\def\ctblset#1#2{\set{ #1_{#2} \mid #2 \in \omega }}
\def\card#1{\vert #1 \vert}
\def\size#1{\vert #1 \vert}
\def\norm#1{\| #1 \|}
\def\ket#1{{|{#1} \rangle}}
\def\bra#1{{\langle {#1}|}}
\def\braket#1#2{{\langle {#1} \mid {#2} \rangle}}
%\newcommand{\complement}[1]{\makemath{#1^{c}}}
\newcommand{\comp}[1]{{#1}^{c}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% symbols for manipulating strings, sets and functions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\garthCases#1{\left\{\mbox{\begin{tabular}{@{$}l@{$\qquad}l} #1 \end{tabular}}\right.}

%for example:
%
%$$ A = \garthCases{ \sigma & if something,\\ \sigma' & otherwise. } $$
%
% -- garth

\def\powerset{\mbox{$\cal P$}}
\def\powerSet{\mbox{$\cal P$}}
\def\EmptySet{\emptyset}
\def\emptySet{\emptyset}
\def\emptystring{\lambda}
\def\emptyString{\emptystring}
\def\concat{^\frown}
\def\substring{\sqsubset}
\def\supstring{\sqsupset}
\def\substringeq{\sqsubseteq}
\def\supstringeq{\sqsupseteq}
%\def\substringnoteq{{\sqsubset \atop \not=}}
%\def\supstringnoteq{{\sqsupset \atop \not=}}
%\def\subsetnoteq{{\subset \atop \not=}}
%\def\supsetnoteq{{\supset \atop \not=}}
\def\substringnoteq{\substring}
\def\supstringnoteq{\substring}
\def\subsetnoteq{\subset}
\def\supsetnoteq{\supset}

\def\intersect{\cap}
\def\Intersect{\bigcap}
\def\union{\cup}
\def\Union{\bigcup}
\def\symdif{\bigtriangleup}
\def\setminus{-}

\def\compose{\circ}
\def\restricted{\makemath{|\!\grave{\;}}}
\def\restrictedto{{|\!\grave{\;}}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% logic stuff
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\proves{\vdash}
\def\provedby{\dashv}

\def\implies{\Longrightarrow}

\def\succ{{\rm succ}}
\def\divg{{\!\uparrow}}
\def\conv{{\!\downarrow}}
\def\domain{{\rm domain}}
\def\range{{\rm range}}

\def\setof#1{{\left\{{#1}\right\}}}

\newcommand{\tand}{\mbox{\ and\ }}
\newcommand{\tor}{\mbox{\ or\ }}

